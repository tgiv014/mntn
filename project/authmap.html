<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>mntn.dev - Authmap</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/5e367c032bdf8114c40f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5e367c032bdf8114c40f.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-b0c7974219aef92009e3.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.e2fe4ae6b85b1c7a6eb1.js" as="script"/><link rel="preload" href="/_next/static/chunks/54b56f31e4a63390429c9c080bc5921c15532dc8.bd079db40d49792afdb6.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8e54f29680ba8022333b.js" as="script"/><link rel="preload" href="/_next/static/chunks/9c82dd96d47f7e65c3cc5f64ff6b92c39ae32daa.1fc51c4ad0cb6bb4bd9d.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/project/%5BprojectId%5D-bd96211231de6384ba21.js" as="script"/></head><body><div id="__next"><div><nav><div class="wrapper"><div class="header-wrapper"><div class="header-col"><a href="/"><svg class="logo-container" viewBox="0 0 12.4355 5.8209889"><g transform="translate(-1.0582919,-1.0582557)"><path class="logo" d="m 1.9843752,5.953161 3.96875,-3.9688494 2.6458334,2.6458994 1.3229163,-1.32295 2.6458331,2.6459" id="path862"></path></g></svg></a></div><div class="header-col"><a href="/about">About</a><a href="/blog">Blog</a></div></div></div></nav><div class="content"><div class="wrapper"><div><div class="backline"><a href="/"><h1>&lt;</h1></a><h1>Authmap</h1></div><div><center>
<img src="/img/authmap.png" />
</center>
<p>Shortly after opening up my home server's ssh port to the world (with only public/private key auth enabled), I started getting a flood of attempted ssh requests from all over the place. Out of curiosity, I wanted to see them plotted out on my Grafana dashboard so I started putting together a small service that reads SSH authentication attempts, parses them, and pushes them into influxdb.</p>
<p>This project originally started out as my first foray into Rust. Pretty soon after that, I began experimenting with Golang for systems programming and decided to port what I had made so far into Go. Links for both versions below:</p>
<ul>
<li><a href="https://github.com/tgiv014/authmap">Authmap (Rust)</a> (Not maintained)</li>
<li><a href="https://github.com/tgiv014/authmap_go">Authmap (Go)</a></li>
</ul>
<h1>Goals</h1>
<p>I have a few goals to refine this project into something more useful:</p>
<ul>
<li>Remove every instance of hardcoding and read all configurables from a YAML file.
<ul>
<li>Done! Now, the only hardcoded configuration item is the config's location. The application will also generate a default configuration automatically if a config is not found.</li>
</ul>
</li>
<li>Allow grouping requests from the same IP/location in a smart way.
<ul>
<li>Done! The <code>ip</code> field is now a tag. This allows grouping by ip and aggregating results within those groups.</li>
</ul>
</li>
<li>Automate downloading the MaxMind GeoIP database.
<ul>
<li>This will require user interaction since the database has licensing requirements now.</li>
</ul>
</li>
<li>Make the docker container for this package more accessible.
<ul>
<li>Done! Authmap (go) is now available from docker hub as <code>tgiv014/authmap:latest</code>. See <a href="https://github.com/tgiv014/authmap_go">the Authmap repo</a> for installation instructions and an example docker-compose configuration</li>
</ul>
</li>
</ul>
</div><br/></div></div></div><footer><div class="wrapper"><div class="footer-wrapper"><div class="footer-col"><ul class="dotless-list"><li>mntn.dev</li><li>Thomas Gorham 2021</li></ul></div><div class="footer-col"><ul class="dotless-list"><li><a href="/colophon">Colophon</a></li></ul></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"allPostsData":[{"id":"gen","html":{"__html":"\u003ch2\u003e\u003ca href=\"https://github.com/tgiv014/mag_field\"\u003eMag Field\u003c/a\u003e\u003c/h2\u003e\n\u003ccenter\u003e\n\u003cimg src=\"https://raw.githubusercontent.com/tgiv014/mag_field/main/static/threefold_small.png\" /\u003e\n\u003c/center\u003e\n\u003cp\u003eInspired by E/H-field diagrams and built using numpy and pycairo. This project draws a visually pleasing representation of the magnetic field created by randomly placed infinite current-carrying wires extending out of the canvas.\u003c/p\u003e\n\u003ch2\u003e\u003ca href=\"https://github.com/tgiv014/circle_packer\"\u003eCircle Packer\u003c/a\u003e\u003c/h2\u003e\n\u003ccenter\u003e\n\u003cimg src=\"https://raw.githubusercontent.com/tgiv014/circle_packer/main/static/logo.png\" /\u003e\n\u003c/center\u003e\n\u003cp\u003eThis project draws something pretty similar to the \u003ca href=\"https://en.wikipedia.org/wiki/Ishihara_test\"\u003ecolor blindness test\u003c/a\u003e everyone knows and loves. Instead of packing circles into a larger circle, it packs them randomly into a mask rendered from an input string. It can also output images as SVG files suitable for use with a plotter or laser cutter.\u003c/p\u003e\n"},"dateString":"Wed Feb 24 2021","title":"Generative Art","featured":true,"description":"Programs that randomly generate pretty pictures.","bg":"/texture.png"},{"id":"authmap","html":{"__html":"\u003ccenter\u003e\n\u003cimg src=\"/img/authmap.png\" /\u003e\n\u003c/center\u003e\n\u003cp\u003eShortly after opening up my home server's ssh port to the world (with only public/private key auth enabled), I started getting a flood of attempted ssh requests from all over the place. Out of curiosity, I wanted to see them plotted out on my Grafana dashboard so I started putting together a small service that reads SSH authentication attempts, parses them, and pushes them into influxdb.\u003c/p\u003e\n\u003cp\u003eThis project originally started out as my first foray into Rust. Pretty soon after that, I began experimenting with Golang for systems programming and decided to port what I had made so far into Go. Links for both versions below:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/tgiv014/authmap\"\u003eAuthmap (Rust)\u003c/a\u003e (Not maintained)\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/tgiv014/authmap_go\"\u003eAuthmap (Go)\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eGoals\u003c/h1\u003e\n\u003cp\u003eI have a few goals to refine this project into something more useful:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRemove every instance of hardcoding and read all configurables from a YAML file.\n\u003cul\u003e\n\u003cli\u003eDone! Now, the only hardcoded configuration item is the config's location. The application will also generate a default configuration automatically if a config is not found.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eAllow grouping requests from the same IP/location in a smart way.\n\u003cul\u003e\n\u003cli\u003eDone! The \u003ccode\u003eip\u003c/code\u003e field is now a tag. This allows grouping by ip and aggregating results within those groups.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eAutomate downloading the MaxMind GeoIP database.\n\u003cul\u003e\n\u003cli\u003eThis will require user interaction since the database has licensing requirements now.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eMake the docker container for this package more accessible.\n\u003cul\u003e\n\u003cli\u003eDone! Authmap (go) is now available from docker hub as \u003ccode\u003etgiv014/authmap:latest\u003c/code\u003e. See \u003ca href=\"https://github.com/tgiv014/authmap_go\"\u003ethe Authmap repo\u003c/a\u003e for installation instructions and an example docker-compose configuration\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n"},"dateString":"Wed Feb 24 2021","title":"Authmap","featured":true,"description":"A service that reads attempted SSH authentications and logs them to influxdb.","color":"#395C6B"},{"id":"advent","html":{"__html":"\u003cp\u003eStarting in 2020, I've made it a personal goal to complete Advent of Code in a new language every year. In 2020, I kicked this tradition off with Golang.\u003c/p\u003e\n\u003ch1\u003e2020\u003c/h1\u003e\n\u003cp\u003eThis year I decided to pick up Go after watching a \u003ca href=\"https://systemsconf.io/\"\u003efree conference\u003c/a\u003e hosted by the folks at \u003ca href=\"https://dgraph.io/\"\u003eDgraph\u003c/a\u003e. This was an awesome way to stretch my legs with Go and get comfortable with the syntax and built-in data structures of Go. All my solutions are on \u003ca href=\"https://github.com/tgiv014/advent2020\"\u003emy Github\u003c/a\u003e.\u003c/p\u003e\n\u003ch3\u003eNoteworthy Puzzles\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://adventofcode.com/2020/day/10\"\u003eDay 10\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eThe first part of the puzzle was easy to solve with built-in sorting functions and iteration, but the second part convinced me to build a graph of every adapter and the other adapters they are compatible with. This solution worked, but desperately needed optimization. In came \u003ca href=\"https://en.wikipedia.org/wiki/Memoization\"\u003ememoization\u003c/a\u003e (a topic that never came up in my EE curriculum).\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://adventofcode.com/2020/day/20\"\u003eDay 20\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eThis was a fun puzzle, but it was also \u003cem\u003emean\u003c/em\u003e. It essentially required you to implement transforms (mirrors and rotations) on 2d boolean arrays and also correlate the edges of the arrays with each other to figure out their position and orientation in a larger image. It took quite a bit of pen and paper sketching to come up with a sensible coordinate system and accurate transforms.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n"},"dateString":"Wed Feb 24 2021","title":"Advent of Code","featured":true,"description":"Starting in 2020, I'm trying to complete Advent of Code in a new language every year.","color":"#F7B32B","github":"https://github.com/tgiv014/advent2020"}]},"__N_SSG":true},"page":"/project/[projectId]","query":{"projectId":"authmap"},"buildId":"QIZacabeh_qi3cCzR8K9u","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-feb8a7604fa7fce626b2.js"></script><script src="/_next/static/chunks/main-b0c7974219aef92009e3.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.e2fe4ae6b85b1c7a6eb1.js" async=""></script><script src="/_next/static/chunks/54b56f31e4a63390429c9c080bc5921c15532dc8.bd079db40d49792afdb6.js" async=""></script><script src="/_next/static/chunks/pages/_app-8e54f29680ba8022333b.js" async=""></script><script src="/_next/static/chunks/9c82dd96d47f7e65c3cc5f64ff6b92c39ae32daa.1fc51c4ad0cb6bb4bd9d.js" async=""></script><script src="/_next/static/chunks/pages/project/%5BprojectId%5D-bd96211231de6384ba21.js" async=""></script><script src="/_next/static/QIZacabeh_qi3cCzR8K9u/_buildManifest.js" async=""></script><script src="/_next/static/QIZacabeh_qi3cCzR8K9u/_ssgManifest.js" async=""></script></body></html>